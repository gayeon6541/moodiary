<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê½ƒ ì¹´ë“œ ìƒì„¸</title>

    <!-- Fonts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.css"
        crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&display=swap" rel="stylesheet">

    <style>
        :root {
            --ink: #111;
            --muted: #666;
            --bg: #fff;
            --header-h: 72px;
            --side: clamp(18px, 3.8vw, 48px);
            --chip: #fff;
            --chip-b: #111;

            /* today.html ì‚¬ê° ì¹´ë“œ ë³€ìˆ˜ í†¤ */
            --border-w: 1px;
            --line: #111;
            --radius: 0;
            /* â† ì‚¬ê° */
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--ink);
            font-family: Pretendard, system-ui, -apple-system, BlinkMacSystemFont, Inter, sans-serif;
            line-height: 1.6;
        }

        /* ===== Header ===== */
        header.site {
            position: sticky;
            top: 0;
            z-index: 50;
            height: var(--header-h);
            background: rgba(255, 255, 255, .9);
            backdrop-filter: blur(6px);
            border-bottom: 1px solid #eaeaea;
        }

        .wrap {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 var(--side);
        }

        .bar {
            height: var(--header-h);
            display: grid;
            gap: 10px;
            grid-template-columns: 140px 1fr auto auto;
            align-items: center;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: inherit;
        }

        .brand img {
            width: 40px;
            height: 40px;
            display: block;
            animation: float 2.4s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        nav.main {
            display: flex;
            justify-content: flex-end;
            gap: 22px;
        }

        nav.main a {
            position: relative;
            text-decoration: none;
            color: var(--ink);
            padding: 4px 2px;
            font-weight: 500;
        }

        nav.main a::after {
            content: "";
            position: absolute;
            left: 0;
            right: 0;
            bottom: -6px;
            height: 2px;
            background: currentColor;
            transform: scaleX(0);
            transform-origin: 0 50%;
            transition: transform .25s;
        }

        /* hoverì‹œì—ë§Œ ë°‘ì¤„ */
        nav.main a:hover::after {
            transform: scaleX(1);
        }

        .sound {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--muted);
            margin-left: clamp(10px, 1.2vw, 18px);
            /* flower.htmlê³¼ ë™ì¼ */
        }

        .sound button {
            border: 1.25px solid #000;
            border-radius: 0;
            background: #fff;
            padding: 8px 12px;
            cursor: pointer;
            transition: background .25s ease, color .25s ease;
        }

        .sound button:hover {
            background: #000;
            color: #fff;
        }


        /* ===== Page ===== */
        main.page {
            max-width: 1040px;
            margin: 0 auto;
            padding: 24px var(--side) 64px;
        }

        .crumbs {
            display: flex;
            gap: 8px;
            align-items: center;
            font-size: 13px;
            color: #777;
            margin: 110px 0 16px;
        }

        .crumbs a {
            color: inherit;
            text-decoration: none;
        }

        .crumbs .sep {
            opacity: .5
        }

        .hero {
            display: grid;
            grid-template-columns: minmax(260px, 380px) 1fr;
            gap: 28px;
            align-items: center;
        }

        /* â€”â€”â€” ì¹´ë“œ í…Œë‘ë¦¬/ë°•ìŠ¤ ì œê±° â€”â€”â€” */
        .hero-card {
            border: none !important;
            background: transparent !important;
            box-shadow: none !important;
            overflow: visible;
            /* ì—¬ë°±ì´ ìì—°ìŠ¤ëŸ½ê²Œ */
        }

        /* ì¹´ë“œ ë‚´ë¶€ë„ ë°°ê²½ ì—†ì´ ê¹”ë”í•˜ê²Œ */
        .hero-img {
            background: transparent !important;
            aspect-ratio: 1 / 1;
            /* 1:1ë¡œ í†µì¼í•´ ì‹¬ë¯¸ì„± â†‘ */
            display: grid;
            place-items: center;
        }

        /* SVGê°€ ì˜ì—­ì— ë”± ë§ê²Œ ë³´ì´ë„ë¡ */
        .hero-img img {
            max-width: 100%;
            max-height: 100%;
            width: min(560px, 42vw);
            /* í° í™”ë©´ì—ì„œ ì‹œì›í•˜ê²Œ */
            height: auto;
            object-fit: contain;
            display: block;
        }
        


        /* ===== í…ìŠ¤íŠ¸/ì¹©/ë©”íƒ€ (ì‚¬ê° ìš”ì†Œ ì¼ê´€ì„±) ===== */
        .title {
            font-family: 'Playfair Display', serif;
            font-size: 34px;
            letter-spacing: .3px;
            margin: 0 0 6px;
            color: #222;
        }

        .subtitle {
            margin: 0 0 14px;
            color: #666;
            font-size: 15px;
        }

        .chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 14px 0 10px;
        }

        .chip {
            border: var(--border-w) solid var(--line);
            background: #fff;
            padding: 8px 10px;
            border-radius: var(--radius);
            font-size: 13px;
        }

        .desc {
            margin-top: 10px;
            color: #333;
            font-size: 16px;
            line-height: 1.75;
        }

        .meta {
            margin-top: 22px;
            display: grid;
            grid-template-columns: repeat(2, minmax(200px, 1fr));
            gap: 14px;
        }

        .meta dt {
            font-weight: 700
        }

        .meta dd {
            margin: 0;
            color: #444
        }

        .nav-rows {
            margin-top: 28px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            border: var(--border-w) solid var(--line);
            background: #fff;
            padding: 10px 14px;
            cursor: pointer;
            text-decoration: none;
            color: #111;
            transition: background .2s, color .2s, transform .1s;
            border-radius: var(--radius);
        }

        .btn:hover {
            background: #000;
            color: #fff;
        }

        .btn:active {
            transform: translateY(1px);
        }

        /* ì†Œí˜• í™”ë©´ */
        @media(max-width:900px) {
            .hero {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        /* === Custom Flower Cursor (same as index.html) === */
        body {
            cursor: none;
        }

        .flower-cursor {
            position: fixed;
            left: 0;
            top: 0;
            z-index: 9999;
            pointer-events: none;
            user-select: none;
            width: 40px;
            height: 40px;
            display: grid;
            place-items: center;
            font-size: 24px;
            line-height: 1;
            transform: translate(-50%, -50%);
            filter: drop-shadow(0 2px 2px rgba(0, 0, 0, .12));
        }

        .flower-cursor::before {
            content: "";
            position: absolute;
            inset: 0;
            border: 2px solid #111;
            border-radius: 999px;
            box-sizing: border-box;
        }

        .flower-cursor.active {
            font-size: 26px;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="site">
        <div class="wrap">
            <div class="bar">
                <a class="brand" href="index.html" aria-label="MOODIARY Home">
                    <img src="img/sub-flower.svg" alt="MOODIARY ë¡œê³ "><span>MOODIARY</span>
                </a>
                <div></div>
                <nav class="main" aria-label="Main">
                    <a href="today-loding.html">Today</a>
                    <a href="diary-loding.html">Diary</a>
                    <a href="flower-loding.html" class="active">Flower</a>
                </nav>
                <div class="sound">
                    <button id="soundToggle" aria-pressed="false">ğŸ”Š Sound (On)</button>
                    <audio id="bgm" preload="auto" autoplay loop playsinline src="audio/temp.mp3"></audio>
                </div>
            </div>
        </div>
    </header>

    <main class="page" aria-label="Flower Detail">
        <nav class="crumbs" aria-label="breadcrumbs">
            <a href="flower.html">Flower</a><span class="sep">â€º</span><span id="crumbLabel">Detail</span>
        </nav>

        <section class="hero">
            <!-- today.html í†¤ì˜ ì‚¬ê° ì¹´ë“œ (ìº¡ì…˜ ì œê±°ë¨) -->
            <div class="hero-card">
                <div class="hero-img"><img id="f-img" alt=""></div>
            </div>

            <div>
                <h1 class="title" id="f-title">FLOWER</h1>
                <p class="subtitle" id="f-sub">â€”</p>

                <div class="chips" id="f-chips"></div>
                <div class="desc" id="f-desc"></div>

                <dl class="meta">
                    <div>
                        <dt>ì˜ë¬¸ëª…</dt>
                        <dd id="f-en">â€”</dd>
                    </div>
                    <div>
                        <dt>êµ­ë¬¸ëª…</dt>
                        <dd id="f-ko">â€”</dd>
                    </div>
                    <div>
                        <dt>ìƒì§•</dt>
                        <dd id="f-sym">â€”</dd>
                    </div>
                    <div>
                        <dt>ì—°ê²° ê°ì •</dt>
                        <dd id="f-emote">â€”</dd>
                    </div>
                </dl>

                <div class="nav-rows">
                    <a class="btn" href="flower.html">â† ëª©ë¡ìœ¼ë¡œ</a>
                    <a class="btn" id="f-prev" href="#">ã€ˆ ì´ì „</a>
                    <a class="btn" id="f-next" href="#">ë‹¤ìŒ ã€‰</a>
                </div>
            </div>
        </section>
    </main>

    <!-- ===== BGM (ê¸°ì¡´ ë¡œì§ ìœ ì§€) ===== -->
    <script>
        (function BGM() {
            const audio = document.getElementById('bgm');
            const btn = document.getElementById('soundToggle');
            const STATE_KEY = 'moodiary_bgm_state', POS_KEY = 'moodiary_bgm_pos', VOL_KEY = 'moodiary_bgm_vol';
            function setBtn(on) { btn.textContent = on ? 'ğŸ”Š Sound (On)' : 'ğŸ”ˆ Sound (Off)'; btn.setAttribute('aria-pressed', on); }

            const fps = 60;
            function fadeTo(target = 0.35, ms = 800) {
                target = Math.max(0, Math.min(1, target));
                const step = (target - audio.volume) / (ms / (1000 / fps));
                const t = setInterval(() => {
                    audio.volume = Math.max(0, Math.min(1, audio.volume + step));
                    if ((step > 0 && audio.volume >= target) || (step < 0 && audio.volume <= target)) {
                        clearInterval(t); localStorage.setItem(VOL_KEY, String(audio.volume));
                    }
                }, 1000 / fps);
            }
            async function tryPlay() {
                try {
                    audio.muted = false;
                    audio.volume = parseFloat(localStorage.getItem(VOL_KEY) || '0.30');
                    await audio.play(); setBtn(true); fadeTo(parseFloat(localStorage.getItem(VOL_KEY) || '0.35'), 700);
                } catch (e) {
                    setBtn(false);
                    const unlock = async () => {
                        try { await audio.play(); setBtn(true); fadeTo(parseFloat(localStorage.getItem(VOL_KEY) || '0.35'), 700); } catch { }
                        finally { window.removeEventListener('pointerdown', unlock, { once: true }); }
                    };
                    window.addEventListener('pointerdown', unlock, { once: true });
                }
            }
            audio.addEventListener('loadedmetadata', () => {
                const pos = parseFloat(localStorage.getItem(POS_KEY) || '0');
                if (isFinite(pos) && pos > 0 && (!isFinite(audio.duration) || pos < audio.duration - 0.4)) { audio.currentTime = pos; }
            });
            const savePos = () => { if (isFinite(audio.currentTime)) localStorage.setItem(POS_KEY, String(audio.currentTime)); };
            setInterval(savePos, 1000); window.addEventListener('pagehide', savePos);

            btn.addEventListener('click', async () => {
                if (audio.paused) { localStorage.setItem(STATE_KEY, 'on'); await tryPlay(); }
                else { audio.pause(); setBtn(false); localStorage.setItem(STATE_KEY, 'off'); }
            });

            if ((localStorage.getItem(STATE_KEY) ?? 'on') === 'on') { tryPlay(); } else { setBtn(false); }
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden && localStorage.getItem(STATE_KEY) === 'on' && audio.paused) { tryPlay(); }
            });
        })();
    </script>

    <!-- ===== Detail Loader (ìº¡ì…˜ ì œê±° ë°˜ì˜) ===== -->
    <script>
        const FLOWERS = [
            { slug: 'hydrangea', en: 'HYDRANGEA', ko: 'ìˆ˜êµ­', emotions: 'ê°ì‚¬ Â· ì§„ì‹¬ Â· ë³€í™”', symbolism: 'ê°ì‚¬, ì§„ì‹¬, ë³€ë•', img: 'img/flowers2/hydrangea2.svg', desc: 'ë‹¤ì±„ë¡œìš´ ìƒ‰ ë³€í™”ë¡œ ê°ì •ì˜ ìŠ¤í™íŠ¸ëŸ¼ì„ ë¹„ìœ í•˜ëŠ” ê½ƒ. ë§ˆìŒì˜ ë³€í™”ì™€ ì†”ì§í•¨ì„ ê¸°ë¡ì— ë‚¨ê¸°ê¸°ì— ì–´ìš¸ë¦½ë‹ˆë‹¤.' },
            { slug: 'babybreath', en: "BABY'S BREATH", ko: 'ì•ˆê°œê½ƒ', emotions: 'ìˆœìˆ˜ Â· ì‘ì› Â· ìœ„ë¡œ', symbolism: 'ìˆœìˆ˜, ì˜ì›, ë°°ë ¤', img: 'img/flowers2/babybreath2.svg', desc: 'ì‘ê³  ë§ì€ ê½ƒë“¤ì´ ëª¨ì—¬ ì€ì€í•œ ì¡´ì¬ê°ì„ ë§Œë“œëŠ” ì•ˆê°œê½ƒì€ ì¼ìƒì˜ ì‘ì€ í–‰ë³µê³¼ ì§€ì†ì ì¸ ì‘ì›ì„ ìƒì§•í•©ë‹ˆë‹¤.' },
            { slug: 'lavender', en: 'LAVENDER', ko: 'ë¼ë²¤ë”', emotions: 'íœ´ì‹ Â· ì•ˆì • Â· ì§‘ì¤‘', symbolism: 'í‰ì˜¨, í—Œì‹ ', img: 'img/flowers2/lavender2.svg', desc: 'í–¥ê¸°ë§Œìœ¼ë¡œë„ ë§ˆìŒì„ ì•ˆì •ì‹œí‚¤ëŠ” ë¼ë²¤ë”ëŠ” íœ´ì‹ê³¼ ëª°ì…ì˜ ìˆœê°„ì„ ê¸°ë¡í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.' },
            { slug: 'freesia', en: 'FREESIA', ko: 'í”„ë¦¬ì§€ì•„', emotions: 'ì„¤ë ˜ Â· ì‹œì‘ Â· ê³ ë§ˆì›€', symbolism: 'ìˆœìˆ˜, ì‹ ë¢°', img: 'img/flowers2/freesia2.svg', desc: 'ë°ì€ ìƒ‰ê°ê³¼ í–¥ì˜ í”„ë¦¬ì§€ì•„ëŠ” ìƒˆë¡œìš´ ì‹œì‘ê³¼ ì„¤ë ˜, ê·¸ë¦¬ê³  ê³ ë§ˆìš´ ë§ˆìŒì„ ì „í•˜ê¸°ì— ì•Œë§ìŠµë‹ˆë‹¤.' },
            { slug: 'daisy', en: 'DAISY', ko: 'ë°ì´ì§€', emotions: 'ê¸°ì¨ Â· ì†”ì§í•¨ Â· ë§‘ìŒ', symbolism: 'ìˆœì§„ë¬´êµ¬, í¬ë§', img: 'img/flowers2/daisy2.svg', desc: 'í–‡ì‚´ ê°™ì€ ì†Œë°•í•¨ì„ ê°€ì§„ ë°ì´ì§€ëŠ” ë§‘ê³  íˆ¬ëª…í•œ ê¸°ë¶„ì„ ë‹´ì•„ë‚´ê¸° ì¢‹ìŠµë‹ˆë‹¤.' },
            { slug: 'white-lily', en: 'WHITE LILY', ko: 'í° ë°±í•©', emotions: 'ì¡´ì¤‘ Â· ìˆ­ê³ í•¨ Â· ìœ„ì—„', symbolism: 'ìˆœê²°, ê³ ê²°', img: 'img/flowers2/white-lily2.svg', desc: 'ì •ì œëœ ì•„ë¦„ë‹¤ì›€ì˜ ìƒì§•. ë§ˆìŒê°€ì§ì„ ë‹¤ì¡ê³  ì‹¶ì€ ë‚ ì˜ ê¸°ë¡ê³¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.' },
            { slug: 'lilac', en: 'LILAC', ko: 'ë¼ì¼ë½', emotions: 'ê·¸ë¦¬ì›€ Â· ë´„ê¸°ìš´ Â· í¬ê·¼í•¨', symbolism: 'ìš°ì •, ì¶”ì–µ', img: 'img/flowers2/lilac2.svg', desc: 'ìŠ¤ì¹˜ë“¯ ì°¾ì•„ì˜¤ëŠ” ì¶”ì–µê³¼ ê³„ì ˆì˜ í–¥ê¸°ë¥¼ ë‹´ì€ ë¼ì¼ë½ì€ ì•„ë ¨í•œ ê°ì •ì„ í‘œí˜„í•©ë‹ˆë‹¤.' },
            { slug: 'white-tulip', en: 'WHITE TULIP', ko: 'í° íŠ¤ë¦½', emotions: 'ì‘ì› Â· ë‹´ë°±í•¨ Â· ë‹¤ì§', symbolism: 'ìˆœìˆ˜, ìš©ì„œ', img: 'img/flowers2/white-tulip2.svg', desc: 'ë‹´ë°±í•œ ì•„ë¦„ë‹¤ì›€ìœ¼ë¡œ ì‘ì›ì˜ ë©”ì‹œì§€ë¥¼ ì „í•˜ëŠ” í° íŠ¤ë¦½ì€ ìƒˆë¡œìš´ ë‹¤ì§ê³¼ë„ ì–´ìš¸ë¦½ë‹ˆë‹¤.' },
            { slug: 'sunflower', en: 'SUNFLOWER', ko: 'í•´ë°”ë¼ê¸°', emotions: 'í–‰ë³µ Â· ì¶©ì‹¤ Â· ì—ë„ˆì§€', symbolism: 'ë™ê²½, ì¶©ì„±', img: 'img/flowers2/sunflower2.svg', desc: 'íƒœì–‘ì„ í–¥í•˜ëŠ” ê¾¸ì¤€í•¨ì²˜ëŸ¼, ëª©í‘œì™€ ì—ë„ˆì§€ë¥¼ ì±„ìš°ê³  ì‹¶ì€ ë‚ ì— ì í•©í•©ë‹ˆë‹¤.' },
            { slug: 'peony', en: 'PEONY', ko: 'ì‘ì•½', emotions: 'í’ìš” Â· ì¶•ë³µ Â· ë”°ëœ»í•¨', symbolism: 'ë¶€, ë²ˆì˜', img: 'img/flowers2/peony2.svg', desc: 'í’ì„±í•œ ê½ƒì†¡ì´ëŠ” ì¶•ë³µê³¼ í’ìš”ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ê°ì‚¬ê°€ ê°€ë“í•œ ë‚ ì— ì‚¬ìš©í•´ë³´ì„¸ìš”.' },
            { slug: 'forgetmenot', en: 'FORGET-ME-NOT', ko: 'ë¬¼ë§ì´ˆ', emotions: 'ê¸°ì–µ Â· ì—°ê²° Â· ì†Œì¤‘í•¨', symbolism: 'ì§„ì‹¤í•œ ì‚¬ë‘, ì¶”ì–µ', img: 'img/flowers2/forgetmenot2.svg', desc: 'ì‘ì§€ë§Œ ì„ ëª…í•œ ì¡´ì¬ê°ìœ¼ë¡œ ì†Œì¤‘í•œ ì¸ì—°ì„ ê¸°ì–µí•˜ê²Œ í•©ë‹ˆë‹¤.' },
            { slug: 'lotus', en: 'LOTUS', ko: 'ì—°ê½ƒ', emotions: 'íšŒë³µ Â· ì„±ì°° Â· í‰ì˜¨', symbolism: 'ì²­ì •, ì¬ìƒ', img: 'img/flowers2/lotus2.svg', desc: 'í™íƒ•ë¬¼ì—ì„œë„ ë§‘ê²Œ í”¼ì–´ë‚˜ëŠ” ì—°ê½ƒì€ íšŒë³µê³¼ ì„±ì°°ì˜ ì‹œê°„ì„ ìƒì§•í•©ë‹ˆë‹¤.' }
        ];

        const order = FLOWERS.map(f => f.slug);

        function qs(key) { const p = new URLSearchParams(location.search); return p.get(key) || ''; }
        function getData(slug) { return FLOWERS.find(f => f.slug === slug) || FLOWERS[0]; }

        function render(d) {
            const img = document.getElementById('f-img');
            img.src = d.img; img.alt = d.en;

            // ìƒë‹¨ íƒ€ì´í‹€/ë¶€ì œ, ì •ë³´ íŒ¨ë„
            document.getElementById('f-title').textContent = d.en;
            document.getElementById('f-sub').textContent = d.ko;

            const chips = document.getElementById('f-chips');
            chips.innerHTML = '';
            d.emotions.split('Â·').map(s => s.trim()).forEach(t => {
                const c = document.createElement('span'); c.className = 'chip'; c.textContent = t; chips.appendChild(c);
            });

            document.getElementById('f-desc').textContent = d.desc;
            document.getElementById('f-en').textContent = d.en;
            document.getElementById('f-ko').textContent = d.ko;
            document.getElementById('f-sym').textContent = d.symbolism;
            document.getElementById('f-emote').textContent = d.emotions;

            document.getElementById('crumbLabel').textContent = d.en;

            const idx = order.indexOf(d.slug);
            const prev = order[(idx - 1 + order.length) % order.length];
            const next = order[(idx + 1) % order.length];
            document.getElementById('f-prev').href = `flower-detail.html?flower=${encodeURIComponent(prev)}`;
            document.getElementById('f-next').href = `flower-detail.html?flower=${encodeURIComponent(next)}`;

            document.title = `ê½ƒ ì¹´ë“œ ìƒì„¸ - ${d.en}`;
        }

        (function () {
            const slug = qs('flower');
            const data = getData(slug);
            render(data);
        })();
    </script>

    <script>
        // âœ¿ Custom Flower Cursor (same as index.html)
        (function () {
            const c = document.createElement('div');
            c.className = 'flower-cursor';
            c.textContent = 'âœ¿';
            document.body.appendChild(c);

            let x = 0, y = 0, tx = 0, ty = 0;
            document.addEventListener('mousemove', e => { x = e.clientX; y = e.clientY; });

            // ë§í¬/ë²„íŠ¼ ìœ„ì— ì˜¬ë¦¬ë©´ ì‚´ì§ ì»¤ì§€ëŠ” íš¨ê³¼
            document.addEventListener('mouseover', e => {
                if (e.target.closest('a,button')) c.classList.add('active');
                else c.classList.remove('active');
            });

            // ë¶€ë“œëŸ¬ìš´ ì¶”ì 
            (function loop() {
                tx += (x - tx) * 0.25;
                ty += (y - ty) * 0.25;
                c.style.transform = `translate(${tx}px, ${ty}px) translate(-50%,-50%)`;
                requestAnimationFrame(loop);
            })();
        })();
    </script>

</body>

</html>
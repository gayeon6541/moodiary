<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MOODIARY</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.css"
        crossorigin>
    <style>
        @font-face {
            font-family: 'HsBombaram30';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10@1.1/HSBombaram3_Thin.woff') format('woff');
            font-weight: 100;
            font-display: swap;
        }

        @font-face {
            font-family: 'HsBombaram30';
            src: url('https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10@1.1/HSBombaram3_Regular.woff') format('woff');
            font-weight: normal;
            font-display: swap;
        }

        @import url('https://fonts.googleapis.com/css2?family=IM+Fell+Double+Pica+SC&display=swap');

        :root {
            --ink: #111;
            --muted: #666;
            --bg: #fff;
            --header-h: 72px;
            --gap: 16px;
            --side: clamp(18px, 3.8vw, 48px);
            --card-b: #111;
            --surface: #fff;
            --gray: #f2f2f2;
            --pill: #111;
            --pill-bg: #fff7d6;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        html {
            scroll-behavior: smooth
        }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--ink);
            font-family: Pretendard, system-ui, -apple-system, BlinkMacSystemFont, Inter, sans-serif;
            line-height: 1.55;
            cursor: none;
        }

        /* Header */
        header.site {
            position: sticky;
            top: 0;
            z-index: 50;
            height: var(--header-h);
            background: rgba(255, 255, 255, .9);
            backdrop-filter: blur(6px)
        }

        .wrap {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 var(--side)
        }

        .bar {
            height: var(--header-h);
            display: grid;
            gap: 10px;
            grid-template-columns: 140px 1fr auto auto;
            align-items: center;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: inherit
        }

        .brand img {
            width: 40px;
            height: 40px;
            display: block;
            animation: float 2.4s ease-in-out infinite
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-5px)
            }
        }

        nav.main {
            display: flex;
            justify-content: flex-end;
            gap: 22px
        }

        nav.main a {
            position: relative;
            text-decoration: none;
            color: var(--ink);
            padding: 4px 2px;
            font-weight: 500
        }

        nav.main a::after {
            content: "";
            position: absolute;
            left: 0;
            right: 0;
            bottom: -6px;
            height: 2px;
            background: currentColor;
            transform: scaleX(0);
            transform-origin: 0 50%;
            transition: transform .25s
        }

        nav.main a:hover::after {
            transform: scaleX(1)
        }

        .sound {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--muted);
            margin-left: clamp(10px, 1.2vw, 18px)
        }

        .sound button {
            border: 1.25px solid #000;
            border-radius: 0;
            background: #fff;
            padding: 8px 12px;
            cursor: pointer;
            transition: background .25s ease, color .25s ease
        }

        .sound button:hover {
            background: #000;
            color: #fff
        }

        /* Splash */
        .splash {
            height: calc(100vh - var(--header-h));
            padding: 0 var(--side) var(--side);
            display: grid;
            grid-template-columns: minmax(0, 1fr) clamp(220px, 24vw, 340px);
            column-gap: 10px;
            align-items: end;
            position: relative;
        }

        .splash h1 {
            position: absolute;
            left: var(--side);
            bottom: var(--side);
            margin: 0;
            font-weight: 600;
            letter-spacing: .5px;
            font-size: clamp(56px, 11vw, 160px);
            line-height: .9;
        }

        .splash .photo {
            grid-column: 2;
            justify-self: end;
            align-self: end;
            width: 100%;
            aspect-ratio: 3/4;
            overflow: hidden;
            margin: 0;
        }

        /* ì‚¬ì§„ ì „ì²´ê°€ ë³´ì´ê²Œ: crop ë°©ì§€ */
        .splash .photo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* ê¸°ì¡´: cover */
            object-position: bottom;
        }

        /* ì˜¤ë¥¸ìª½ ì‚¬ì§„ ì¹¼ëŸ¼ì„ ì•½ê°„ ë” í‚¤ìš°ê¸° */
        .splash {
            grid-template-columns: minmax(0, 1fr) clamp(260px, 28vw, 520px);
        }

        /* ì¹´ë“œ/íƒ€ì¼ ì´ë¯¸ì§€ë„ ê½‰ ì°¨ê²Œ(ì´ë¯¸ ì˜ë¦¬ì§€ëŠ” ì•Šì§€ë§Œ ì‚´ì§ ë” í‚¤ì›€) */
        .img img,
        .fcard .img img {
            max-width: 100%;
            max-height: 100%;
        }


        /* Sections */
        .section {
            max-width: 100%;
            margin: 200px auto;
            padding: 0 var(--side)
        }

        .section-head h2 {
            margin: 0;
            font-size: 28px
        }

        .today-video {
            width: 100%;
            aspect-ratio: 36/9;
            border: 1px solid #111;
            background: #e5e5e5;
            overflow: hidden;
            margin: 0 0 100px;
        }

        .today-video video {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: #d9d9d9;
        }

        #sec-today .section-head h2,
        #sec-diary .section-head h2,
        #sec-flower .section-head h2 {
            font-size: 40px;
            font-weight: 700
        }

        #sec-today .twocol {
            display: flex;
            justify-content: center
        }

        #sec-today .twocol .box {
            max-width: 720px;
            margin: 0 auto;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .section-head a.small {
            font-size: 18px;
            color: #111;
            text-decoration: none;
            border-bottom: 1px solid #111
        }

        /* ì†Œê°œ */
        .site-blurb {
            max-width: 100%;
            padding: clamp(80px, 18vw, 100px) var(--side) clamp(60px, 8vw, 100px);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 50vh;
            text-align: center;
        }

        .site-blurb .eyebrow {
            font-size: 15px;
            letter-spacing: .4px;
            color: #9ac4e4;
            margin-bottom: 14px;
            text-align: center;
        }

        .site-blurb .lead {
            margin: 0 auto 14px;
            font-size: 24px;
            text-align: center;
        }

        .site-blurb .desc {
            margin: 0 auto;
            max-width: min(72ch, 80vw);
            color: rgb(100, 100, 100);
            font-size: 16px;
            line-height: 1.8;
            text-align: center;
        }

        /* ì¹´ë“œ/íƒ€ì¼ */
        .gallery {
            display: grid;
            gap: var(--gap);
            grid-template-columns: repeat(12, 1fr)
        }

        .col-4 {
            grid-column: span 4
        }

        .tile {
            border: 1px solid var(--card-b);
            border-radius: 0;
            background: var(--surface);
            display: flex;
            flex-direction: column;
            transition: transform .35s ease, box-shadow .35s ease
        }

        .tile:hover {
            transform: translateY(-4px);
            box-shadow: 0 14px 36px rgba(0, 0, 0, .12)
        }

        .img {
            aspect-ratio: 4/3;
            display: grid;
            place-items: center;
            background: #f2f2f2;
            border-bottom: 1px solid var(--card-b)
        }

        .img.white {
            background: #fff
        }

        .img img {
            max-width: 90%;
            max-height: 90%;
            display: block
        }

        .caption {
            padding: 14px;
            font-size: 14px;
            color: #333
        }

        /* Flower marquee */
        .marquee {
            overflow: hidden;
            border: 1px solid #111;
            border-radius: 0;
            background: #fff;
            margin-top: 12px
        }

        .track {
            display: flex;
            gap: var(--gap);
            padding: 12px;
            animation: scrollLeft 36s linear infinite;
            will-change: transform
        }

        .tile-slim {
            flex: 0 0 calc((100% - var(--gap)*4)/5);
            border: 1px solid #111;
            border-radius: 0;
            background: #fff;
            display: flex;
            flex-direction: column
        }

        .tile-slim .img {
            aspect-ratio: 4/3;
            border-bottom: 1px solid #111
        }

        @media(max-width:1200px) {
            .tile-slim {
                flex-basis: calc((100% - var(--gap)*3)/4)
            }
        }

        @media(max-width:900px) {
            .tile-slim {
                flex-basis: calc((100% - var(--gap)*2)/3)
            }
        }

        @media(max-width:640px) {
            .tile-slim {
                flex-basis: calc((100% - var(--gap)*1)/2)
            }
        }

        @keyframes scrollLeft {
            from {
                transform: translateX(0)
            }

            to {
                transform: translateX(-50%)
            }
        }

        @media(prefers-reduced-motion:reduce) {
            .track {
                animation: none
            }
        }

        /* ===== Calendar: diary.html ìŠ¤íƒ€ì¼ì— ë§ì¶˜ ìŠ¤í‚¨ (ê¸°ëŠ¥ì€ indexì˜ JS ìœ ì§€) ===== */
        .calendar {
            background: #fff;
            border-radius: 0;
        }

        .cal-head {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: end;
            gap: 12px;
            padding: 10px;

        }

        .cal-head h3 {
            margin: 0;
            font-size: 20px;

        }

        /* ì£¼ì¤‘ í—¤ë”/ë‚ ì§œ ê·¸ë¦¬ë“œ: ê¸°ì¡´ êµ¬ì¡°(#calGrid)ì— gapì„ ì£¼ê³ , ê° ì¹¸ì€ 1px ë¼ì¸ */
        .cal-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
            padding: 10px 8px 10px;
        }

        .cal-grid .dow {
            border: 1px dashed #111;
            color: #111;
            font-weight: 300;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 34px;
            background: #fff;
        }

        .cal-grid .day {
            position: relative;
            border: 0.5px solid #111;
            background: #fff;
            overflow: hidden;
            cursor: pointer;
            transition: transform .15s, box-shadow .15s;
            min-height: 88px;
        }

        .cal-grid .day:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 24px rgba(0, 0, 0, .08)
        }

        .cal-grid .day.muted {
            background: #fafafa;
            cursor: default
        }

        .cal-grid .day.today {
            outline: 2px solid rgba(0, 0, 0, .15)
        }

        .cal-grid .day.selected {
            outline: 0;
            box-shadow: inset 0 0 0 1px #000
        }

        .cal-grid .day span {
            position: absolute;
            top: 6px;
            left: 6px;
            font-weight: 300;
            font-size: 16px;
            color: #222;
        }

        /* í•˜ë‹¨ ë²”ë¡€(ì˜µì…˜) */
        .cal-foot {
            display: flex;
            justify-content: space-between;
            gap: 8px;
            padding: 8px 10px;
            color: #777;
            font-size: 12px;
            border-top: 1px solid #111;
        }

        /* footer */
        footer {
            padding: 56px var(--side);
            text-align: center;
            color: #777;
            margin-top: 20px
        }

        /* Flower cursor */
        .flower-cursor {
            position: fixed;
            left: 0;
            top: 0;
            z-index: 9999;
            pointer-events: none;
            user-select: none;
            width: 40px;
            height: 40px;
            display: grid;
            place-items: center;
            font-size: 24px;
            line-height: 1;
            transform: translate(-50%, -50%);
            filter: drop-shadow(0 2px 2px rgba(0, 0, 0, .12))
        }

        .flower-cursor::before {
            content: "";
            position: absolute;
            inset: 0;
            border: 2px solid #111;
            border-radius: 999px;
            box-sizing: border-box
        }

        .flower-cursor.active {
            font-size: 26px
        }

        /* PixelCard */
        .pixel-card {
            position: relative;
            overflow: hidden;
            isolation: isolate;
            border-radius: 0
        }

        .pixel-card .pixel-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            display: block;
            pointer-events: none
        }

        .pixel-card::before {
            content: '';
            position: absolute;
            inset: 0;
            margin: auto;
            aspect-ratio: 1;
            background: radial-gradient(circle, rgba(255, 255, 255, .35), transparent 85%);
            opacity: 0;
            transition: opacity 800ms cubic-bezier(.5, 1, .89, 1);
            pointer-events: none;
            z-index: 1
        }

        .pixel-card:hover::before,
        .pixel-card:focus-within::before {
            opacity: 1
        }

        /* Steps/Mapping (keep) */
        .steps {
            display: grid;
            gap: var(--gap);
            grid-template-columns: repeat(12, 1fr)
        }

        .step {
            grid-column: span 4;
            border: 1.5px solid #111;
            background: #fff
        }

        .step .head {
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1.5px solid #111;
            padding: 10px 12px
        }

        .step .num {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border: 1.5px solid #111
        }

        .step .body {
            padding: 12px;
            font-size: 14px;
            color: #333
        }

        .mapping {
            display: grid;
            gap: var(--gap);
            grid-template-columns: repeat(12, 1fr)
        }

        .map-card {
            grid-column: span 3;
            border: 1px solid #111;
            background: #fff
        }

        .map-card .img {
            aspect-ratio: 1/1
        }

        .map-card .caption {
            font-size: 13px
        }

        .twocol {
            display: grid;
            grid-template-columns: 1.1fr .9fr;
            gap: clamp(18px, 3.2vw, 34px);
            align-items: center
        }

        .twocol .box {
            background: #fff
        }

        .twocol img {
            display: block;
            width: 100%;
            height: auto
        }

        .cta {
            border: 1.5px dashed #111;
            background: #fff;
            padding: 28px;
            text-align: center
        }

        .cta .btn {
            display: inline-block;
            margin-top: 12px;
            border: 1.5px solid #111;
            background: #fff;
            padding: 10px 16px;
            text-decoration: none;
            color: #111
        }

        .cta .btn:hover {
            background: #000;
            color: #fff
        }

        /* reveal + scroll-float */
        .reveal,
        [data-reveal] {
            opacity: 0;
            transform: translateY(24px)
        }

        .reveal.is-in,
        [data-reveal].is-in {
            opacity: 1;
            transform: none;
            transition: opacity .7s ease, transform .7s ease
        }

        .stagger .tile,
        .stagger .tile-slim,
        .stagger .step,
        .stagger .map-card {
            opacity: 0;
            transform: translateY(24px)
        }

        .scroll-float {
            overflow: hidden;
            margin: clamp(6px, 1.4vw, 12px) 0;
        }

        .scroll-float-text {
            display: inline-block;
            line-height: 1.35;
        }

        .char {
            display: inline-block;
        }

        /* Responsive */
        @media(max-width:640px) {
            .bar {
                grid-template-columns: 110px 1fr auto auto
            }

            .splash {
                grid-template-columns: 1fr min(60vw, 340px)
            }

            .gallery {
                grid-template-columns: repeat(4, 1fr)
            }

            .col-4 {
                grid-column: span 4
            }

            .steps .step {
                grid-column: span 12
            }

            .mapping .map-card {
                grid-column: span 6
            }

            .twocol {
                grid-template-columns: 1fr
            }

            .section {
                margin: 96px auto
            }
        }

        /* CircularGallery (hooks) */
        .circular-wrap {
            background: #fff;
            overflow: hidden;
        }

        .circular-gallery {
            width: 100%;
            height: 100%;
            position: relative;
            cursor: grab;
            user-select: none;
            will-change: transform;
        }

        .circular-gallery:active {
            cursor: grabbing;
        }

        .cg-item {
            position: absolute;
            left: 25%;
            transform: translate(-50%, -50%);
            width: clamp(180px, 16vw, 240px);
            aspect-ratio: auto;
            display: flex;
            flex-direction: column;
            border: 1px solid #111;
            background: #fff;
            overflow: hidden;
            border-radius: calc(var(--br, .05) * 24px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, .06);
        }

        .cg-item .img {
            flex: 1;
            display: grid;
            place-items: center;
            border-bottom: 1px solid #111;
            background: #fff;
        }

        .cg-item .img img {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .cg-item .caption {
            padding: 12px;
            font-size: 16px;
            text-align: center;
            background: #fff;
            color: #333;
        }

        .cg-title {
            position: absolute;
            left: 50%;
            bottom: -10px;
            transform: translate(-50%, 100%);
            font: 600 14px/1.2 Pretendard, system-ui, sans-serif;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0, 0, 0, .45);
            white-space: nowrap;
            pointer-events: none;
        }

        #sec-today .box {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .section-title {
            font-family: "IM Fell Double Pica SC", serif;
            font-size: 30px;
            font-weight: 500;
            color: #9ac4e4;
        }

        .section-head {
            font-family: "IM Fell Double Pica SC", serif;
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: end;
            color: #9ac4e4;
        }

        .section-head a.small {
            justify-self: end;
            border-bottom: 1px solid #111;
        }

        #sec-today .section-head h2,
        #sec-diary .section-head h2,
        #sec-flower .section-head h2 {
            font-size: 30px;
            font-weight: 500;
        }

        /* MOODIARY outline font */
        #heroTitle {
            color: transparent;
            -webkit-text-stroke: 2px #111;
        }

        #heroTitle,
        #heroTitle .char {
            font-family: "IM Fell Double Pica SC", serif;
            font-weight: 400;
            font-style: normal;
            color: #cfe6f7;
            -webkit-text-stroke: 1px #111;
        }

        /* Flower marquee (cards) */
        .flower-marquee {
            overflow: hidden;
            background: #fff;
            margin-top: 12px;
            position: relative;
            padding: 0 40px;
        }

        .flower-track {
            --gap: var(--gap, 16px);
            --duration: 28s;
            display: flex;
            gap: var(--gap);
            padding: 52px;
            width: max-content;
            animation: flowerMarquee var(--duration) linear infinite;
            will-change: transform;
        }

        .flower-marquee:hover .flower-track,
        .flower-track.is-paused {
            animation-play-state: paused;
        }

        @keyframes flowerMarquee {
            from {
                transform: translateX(0)
            }

            to {
                transform: translateX(-50%)
            }
        }

        .fcard {
            flex: 0 0 clamp(200px, 18vw, 260px);
            border: 1px solid #111;
            border-radius: 0;
            background: #fff;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            outline: none;
            margin-left: 20px;
            transition: transform .35s cubic-bezier(.34, 1.56, .64, 1);
        }

        .fcard:hover {
            transform: scale(1.08)
        }

        .fcard:focus {
            box-shadow: 0 0 0 2px #111 inset;
        }

        .fcard .img {
            aspect-ratio: 4/3;
            display: grid;
            place-items: center;
            background: #fff;
        }

        .fcard .img img {
            max-width: 90%;
            max-height: 90%;
            display: block;
        }

        .fcard .cap {
            font-family: "IM Fell Double Pica SC", serif;
            padding: 12px;
            font-size: 18px;
            color: #333;
            text-align: center;
        }

        .site-blurb .lead {
            font-size: 24px;
            font-weight: 400;
            color: #111;
            text-align: center;
        }

        /* ì˜¤ëŠ˜ ë‚ ì§œ ì¹¸ í•˜ì´ë¼ì´íŠ¸ (ì—°í•œ ë…¸ë‘) */
        .cal-grid .day.today {
            background: var(--pill-bg);
            /* ì´ë¯¸ :rootì— #fff7d6 ì •ì˜ë˜ì–´ ìˆìŒ */
            outline: 2px solid rgba(0, 0, 0, .15);
        }

        /* ì„ íƒ + ì˜¤ëŠ˜ ê²¹ì¹  ë•Œë„ ë…¸ë‘ ìœ ì§€ (ì„ íƒ í…Œë‘ë¦¬ ê°•í™”) */
        .cal-grid .day.today.selected {
            background: var(--pill-bg);
            box-shadow: inset 0 0 0 2px #111;
        }

        /* ì˜¤ëŠ˜ ì¹¸ì— ìƒì‹œ ë¶€ë“œëŸ¬ìš´ drop-shadow ì£¼ê¸° */
        .cal-grid .day.today {
            outline: none;
            /* í•„ìš” ì‹œ ìœ¤ê³½ì„  ì œê±° */
            box-shadow: 0 6px 16px rgba(0, 0, 0, .12);
            /* ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ì¡°ì ˆ */
        }

        /* ì˜¤ëŠ˜ ì¹¸ hover ì‹œë§Œ ë” ê°•ì¡°í•˜ê³  ì‹¶ë‹¤ë©´ */
        .cal-grid .day.today:hover {
            box-shadow: 0 10px 24px rgba(0, 0, 0, .16);
        }

        /* ì˜¤ëŠ˜+ì„ íƒ ìƒíƒœë„ ë™ì¼ í†¤ ìœ ì§€ */
        .cal-grid .day.today.selected {
            box-shadow: inset 0 0 0 2px #111,
                /* ë‚´ë¶€ í…Œë‘ë¦¬ ìœ ì§€ */
                0 6px 16px rgba(0, 0, 0, .12);
            /* ë°”ê¹¥ ê·¸ë¦¼ì í•¨ê»˜ */
        }

        /* DIARY ì†Œê°œë¬¸ ì•ˆì˜ ë§í¬ë¥¼ ì¤„ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ */
        #sec-diary>p {
            display: flex;
            align-items: baseline;
            gap: 12px;
            /* í…ìŠ¤íŠ¸ì™€ ë§í¬ ì‚¬ì´ ì—¬ë°± */
        }

        #sec-diary>p a.small {
            margin-left: auto;
            /* ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ë°€ê¸° */
        }

        /* ì†Œê°œ ê¸€ì„ ì¢Œ-ìš° 2ì—´ë¡œ: ì™¼ìª½(í…ìŠ¤íŠ¸), ì˜¤ë¥¸ìª½(ë§í¬) */
        #sec-diary>p,
        #sec-flower>div:first-of-type {
            display: grid;
            grid-template-columns: 1fr auto;
            /* 1ì—´=ê°€ë³€ í…ìŠ¤íŠ¸, 2ì—´=ë§í¬ */
            align-items: baseline;
            /* ê°™ì€ ì¤„ ìœ„ì•„ë˜ ê¸°ì¤€ ë§ì¶¤ */
            column-gap: 12px;
            width: 100%;
            max-width: none !important;
            /* p/divì— ê±¸ë¦° inline max-width(78ch/90ch) ë¬´ì‹œ */
        }

        /* ë§í¬ë¥¼ ì»¨í…Œì´ë„ˆ ì˜¤ë¥¸ìª½ ë(ì„¹ì…˜ padding ì•ˆìª½)ìœ¼ë¡œ ê³ ì • */
        #sec-diary>p a.small,
        #sec-flower>div:first-of-type a.small {
            justify-self: end;
            /* ê·¸ë¦¬ë“œ ìš°ì¸¡ ì •ë ¬ */
            white-space: nowrap;
            /* 'diary â†’'ê°€ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šê²Œ */
        }

        /* 1) FLOWER: í…ìŠ¤íŠ¸(ì™¼ìª½) + ë§í¬(ì˜¤ë¥¸ìª½ ë)ë¡œ 2ì—´ ê·¸ë¦¬ë“œ */
        #sec-flower .section-head+div {
            display: grid;
            grid-template-columns: 1fr auto;
            /* ì™¼ìª½=ê°€ë³€ í…ìŠ¤íŠ¸, ì˜¤ë¥¸ìª½=ë§í¬ */
            align-items: baseline;
            column-gap: 12px;
            width: 100%;
            max-width: none !important;
            /* ì¸ë¼ì¸ max-width(90ch) ë¬´ì‹œ */
        }

        #sec-flower .section-head+div a.small {
            justify-self: end;
            /* ì»¨í…Œì´ë„ˆ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ */
            white-space: nowrap;
        }

        /* 2) ë§í¬ ë³´ë¼ìƒ‰(visited) ì œê±° + í†¤ í†µì¼ */
        a.small,
        a.small:link,
        a.small:visited,
        a.small:hover,
        a.small:active {
            color: rgb(99, 99, 99) !important;
            /* ë³´ë¼ìƒ‰ visited ì œê±° */
            text-decoration: none;
            border-bottom: 1px solid rgb(100, 100, 100);
            /* diary í†¤ê³¼ ë§ì¶¤ */
        }

        /* (ì„ íƒ) diary ë¬¸ì¥ë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì˜¤ë¥¸ìª½ ë ê³ ì •í•˜ê³  ì‹¶ì„ ë•Œ
   ì´ë¯¸ ì ìš©ë¼ ìˆì§€ë§Œ í†µì¼ê°ì„ ìœ„í•´ ì•„ë˜ë„ ìœ ì§€í•´ë„ ì¢‹ì•„ìš”. */
        #sec-diary>p {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: baseline;
            column-gap: 12px;
            width: 100%;
            max-width: none !important;
        }

        #sec-diary>p a.small {
            justify-self: end;
            white-space: nowrap;
        }

        /* íšŒìƒ‰(ì´ë²ˆ ë‹¬ ì•„ë‹˜) ì¹¸ ìŠ¤íƒ€ì¼ */
        .cal-grid .day.muted {
            background: #f2f2f2;
            /* ì—°í•œ íšŒìƒ‰ */
            border-color: #111;
            color: #bbb;
            cursor: default;
        }

        /* íšŒìƒ‰ ì¹¸ì€ ìˆ«ì ìˆ¨ê¹€(í˜¹ì‹œ ìŠ¤íŒ¬ì´ ìˆë”ë¼ë„) */
        .cal-grid .day.muted span {
            display: none;
        }

        /* TODAY: ì˜ìƒ ì•„ë˜ì—ë§Œ ì—¬ë°± ì£¼ê¸° */
        #sec-today .today-video {
            margin-bottom: 240px;
            /* í™”ë©´ í¬ê¸°ì— ë§ì¶° 16~40px */
        }

        /* í˜¹ì‹œ ê¸°ì¡´ì— twocolì— ì—¬ë°±ì´ ìˆì—ˆë‹¤ë©´ ì œê±°(ì¤‘ë³µ ê°„ê²© ë°©ì§€) */
        #sec-today .twocol {
            margin-top: 0 !important;
        }

        #sec-flower .flower-track img {
            height: 350px;
            margin: 20px 24px;
            display: block;
        }

        /* ê½ƒ ë§ˆí‚¤ íŠ¸ë™ ì—¬ë°±/ê°„ê²© ì¶•ì†Œ */
        #sec-flower .flower-track {
            gap: 12px;
            /* ê¸°ì¡´ gapë³´ë‹¤ ì¶•ì†Œ */
            padding: 10px 5px;
            /* ìœ„ì•„ë˜/ì¢Œìš° íŒ¨ë”©ë„ ì¤„ì„ */
        }

        .flower-card {
            display: inline-block;
            cursor: pointer;
            transition: transform .35s cubic-bezier(.34, 1.56, .64, 1);
        }

        .flower-card img {
            height: 360px;
            width: auto;
            display: block;
            transition: transform .35s cubic-bezier(.34, 1.56, .64, 1),
                box-shadow .35s ease;
        }


        /* í˜¸ë²„ ì‹œ ì€ì€í•˜ê²Œ ë¶€ì›… */
        .flower-card:hover img {
            transform: translateY(-10px) scale(1.08);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.15);
            /* ì€ì€í•œ ê·¸ë¦¼ì */
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="site">
        <div class="wrap">
            <div class="bar">
                <a class="brand" href="index.html" aria-label="MOODIARY Home">
                    <img src="img/sub-flower.svg" alt="MOODIARY ë¡œê³ "><span>MOODIARY</span>
                </a>
                <div></div>
                <nav class="main" aria-label="Main">
                    <a href="today-loding.html" class="active">Today</a>
                    <a href="diary-loding.html">Diary</a>
                    <a href="flower-loding.html">Flower</a>
                </nav>
                <div class="sound">
                    <button id="soundToggle" aria-pressed="false">ğŸ”Š Sound (On)</button>
                    <audio id="bgm" preload="auto" autoplay loop playsinline src="audio/temp.mp3"></audio>
                </div>
            </div>
        </div>
    </header>

    <!-- Splash -->
    <section class="splash" aria-label="Splash">
        <h1 id="heroTitle">MOODIARY</h1>
        <figure class="photo pixel-card" data-variant="pink" id="heroPixelCard">
            <canvas class="pixel-canvas"></canvas>
            <img src="img/main-flower.svg" alt="Moodiary hero image" style="position:relative;z-index:2;">
        </figure>
    </section>

    <!-- ì†Œê°œ ë¸”ë¡ -->
    <section class="site-blurb" aria-label="Intro blurb">
        <div class="eyebrow">âœ¿</div>
        <p class="lead scroll-float">
            <span class="scroll-float-text sf-target" data-duration="1" data-ease="back.inOut(2)">
                ë¬´ë””ì–´ë¦¬. <strong>ë‹¹ì‹ ì˜ ê½ƒ ê°ì • ë‹¤ì´ì–´ë¦¬</strong>
            </span>
        </p>
        <p class="desc scroll-float">
            <span class="scroll-float-text sf-target" data-duration="1" data-ease="back.inOut(2)"
                data-start="center bottom+=50%" data-end="bottom bottom-=35%" data-stagger="0.02">
                ì˜¤ëŠ˜ ê°ì •ì„ í•œ ì¤„ë¡œ ê¸°ë¡í•´ë³´ì„¸ìš”. ê·¸ ê°ì •ì„ ê½ƒê³¼ ì—°ê²°í•´ì¤ë‹ˆë‹¤.
            </span>
        </p>
        <p class="desc scroll-float">
            <span class="scroll-float-text sf-target" data-duration="1" data-ease="back.inOut(2)"
                data-start="center bottom+=50%" data-end="bottom bottom-=35%" data-stagger="0.02">
                ê¸°ë¡Â·ë‹¤ì´ì–´ë¦¬ë¥¼ í•˜ë‚˜ì˜ íë¦„ìœ¼ë¡œ ì—°ê²°í•´, ë‹¹ì‹ ì˜ ê½ƒ ê°ì • ë‹¤ì´ì–´ë¦¬ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.
            </span>
        </p>
    </section>

    <!-- TODAY -->
    <section class="section" id="sec-today">
        <figure class="today-video">
            <video id="todayPreviewVideo" autoplay muted playsinline loop poster="img/today-cover.jpg">
                <source src="video/today-preview.mov" type="video/mp4">
            </video>
        </figure>

        <div class="twocol" style="margin-top:12px;">
            <div class="box" style="padding:0px;">
                <h2 class="section-title scroll-float">
                    <span class="scroll-float-text sf-target">âœ¿ Today</span>
                </h2>
                <p style="margin:10px;color:rgb(100,100,100);">
                    í•œ ì¤„ ê°ì •ì„ ì ìœ¼ë©´, ê°ì •ì— ì–´ìš¸ë¦¬ëŠ” ê½ƒì´ ë§¤ì¹­ë˜ì–´ ì˜¤ëŠ˜ì˜ ê½ƒ ì¹´ë“œê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
                </p>
                <div style="display:flex;gap:8px;align-items:center;margin:0 0 40px;">
                    <input id="todayInput" type="text" placeholder="ex) ì˜¤ëŠ˜ì€ ë§ˆìŒì´ ìš¸ì í•œ ê¸°ë¶„ì´ì•¼."
                        style="flex:1;min-width:560px;max-width:560px;height:60px;border:1px solid #111;padding:0 20px;border-radius:0;">
                    <a id="todayGo" class="small" href="today-loding.html"
                        style="display:inline-block;border:1px solid #111;padding:15px 40px;text-decoration:none;color:#111;">today
                        â†’</a>
                </div>
            </div>
        </div>
    </section>

    <!-- DIARY -->
    <section class="section" id="sec-diary">
        <div class="section-head">
            <h2 class="scroll-float"><span class="scroll-float-text sf-target">âœ¿ Diary</span></h2>
        </div>
        <p style="max-width:78ch;color:rgb(100, 100, 100);margin:0 0 30px;">
            ì˜¤ëŠ˜ì˜ ê¸°ë¡ì´ ë‹¬ë ¥ê³¼ ì¹´ë“œë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë‚ ì§œë¥¼ ëˆŒëŸ¬ ë‹¤ì´ì–´ë¦¬ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì •ì›ì„ ë‹¤ì‹œ ê¾¸ë°€ ìˆ˜ ìˆì–´ìš”.
            <a class="small" href="diary-loding.html">diary â†’</a>
        </p>

        <div class="calendar" id="calendar">
            <div class="cal-grid" id="calGrid"></div>
            <!-- ë²”ë¡€(ìŠ¤íƒ€ì¼ë§Œ ì¶”ê°€, ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ) -->
        </div>
    </section>

    <!-- FLOWER -->
    <section class="section" id="sec-flower">
        <div class="section-head">
            <h2 class="scroll-float"><span class="scroll-float-text sf-target">âœ¿ Flower</span></h2>
        </div>

        <div style="max-width:90ch;color:rgb(100,100,100);margin:0 0 40px;">
            ì˜¤ëŠ˜ì˜ ê°ì •ì„ ê¸°ë¡í•˜ê³ , ê½ƒìœ¼ë¡œ ë‚¨ê¸°ì„¸ìš”. ì™„ì„±í•œ ì¹´ë“œëŠ” ë‹¤ì´ì–´ë¦¬ì— ì €ì¥ë˜ê³ , ê½ƒë“¤ì€ ì•„ë˜ ì¹´ë“œë¡œ ë¯¸ë¦¬ ë³¼ ìˆ˜ ìˆì–´ìš”.
            <a class="small" href="flower-loding.html">flower â†’</a>
        </div>

        <div class="flower-marquee" id="flowerMarquee">
            <div class="flower-track" id="flowerTrack" aria-label="Flower cards marquee"></div>
        </div>
    </section>

    <footer>Â© 2025 MOODIARY</footer>

    <script>
        /* ===== BGM ===== */
        (function BGM() {
            const audio = document.getElementById('bgm'); const btn = document.getElementById('soundToggle');
            const STATE_KEY = 'moodiary_bgm_state', POS_KEY = 'moodiary_bgm_pos', VOL_KEY = 'moodiary_bgm_vol';
            function setBtn(on) { btn.textContent = on ? 'ğŸ”Š Sound (On)' : 'ğŸ”ˆ Sound (Off)'; btn.setAttribute('aria-pressed', on) }
            const fps = 60;
            function fadeTo(target = 0.35, ms = 800) {
                target = Math.max(0, Math.min(1, target));
                const step = (target - audio.volume) / (ms / (1000 / fps));
                const t = setInterval(() => {
                    audio.volume = Math.max(0, Math.min(1, audio.volume + step));
                    if ((step > 0 && audio.volume >= target) || (step < 0 && audio.volume <= target)) { clearInterval(t); localStorage.setItem(VOL_KEY, String(audio.volume)); }
                }, 1000 / fps)
            }
            async function tryPlay() {
                try { audio.muted = false; audio.volume = parseFloat(localStorage.getItem(VOL_KEY) || '0.30'); await audio.play(); setBtn(true); fadeTo(parseFloat(localStorage.getItem(VOL_KEY) || '0.35'), 700) }
                catch (e) { setBtn(false); const unlock = async () => { try { await audio.play(); setBtn(true); fadeTo(parseFloat(localStorage.getItem(VOL_KEY) || '0.35'), 700) } catch { } finally { window.removeEventListener('pointerdown', unlock, { once: true }); } }; window.addEventListener('pointerdown', unlock, { once: true }); }
            }
            audio.addEventListener('loadedmetadata', () => {
                const pos = parseFloat(localStorage.getItem(POS_KEY) || '0');
                if (isFinite(pos) && pos > 0 && (!isFinite(audio.duration) || pos < audio.duration - 0.4)) { audio.currentTime = pos; }
            });
            const savePos = () => { if (isFinite(audio.currentTime)) localStorage.setItem(POS_KEY, String(audio.currentTime)) };
            const timer = setInterval(savePos, 1000); window.addEventListener('pagehide', savePos);
            btn.addEventListener('click', async () => { if (audio.paused) { localStorage.setItem(STATE_KEY, 'on'); await tryPlay(); } else { audio.pause(); setBtn(false); localStorage.setItem(STATE_KEY, 'off'); } });
            if ((localStorage.getItem(STATE_KEY) ?? 'on') === 'on') { tryPlay(); } else { setBtn(false) }
            document.addEventListener('visibilitychange', () => { if (!document.hidden && localStorage.getItem(STATE_KEY) === 'on' && audio.paused) { tryPlay(); } });
        })();

        // today ë²„íŠ¼ í´ë¦­ ì‹œ query êµ¬ì„±
        (function () {
            const btn = document.getElementById('todayGo');
            const input = document.getElementById('todayInput');
            function z(n) { return String(n).padStart(2, '0') }
            function fmt(d) { return `${d.getFullYear()}-${z(d.getMonth() + 1)}-${z(d.getDate())}` }
            if (btn) {
                btn.addEventListener('click', function () {
                    const base = 'today-loding.html';
                    const date = fmt(new Date());
                    const q = new URLSearchParams({ date, text: (input && input.value) || '' });
                    btn.href = base + '?' + q.toString();
                });
            }
        })();

        // ì‚¬ìš´ë“œ í† ê¸€ ë³´ì¡°
        (function () {
            const audio = document.getElementById('bgm'); const btn = document.getElementById('soundToggle');
            let playing = false; function update() { btn.textContent = playing ? 'ğŸ”Š Sound (On)' : 'ğŸ”ˆ Sound (Off)'; btn.setAttribute('aria-pressed', playing) }
            btn.addEventListener('click', async () => { try { if (!playing) { await audio.play(); playing = true } else { audio.pause(); playing = false } update() } catch { alert('ì„ì‹œ ìŒì•… íŒŒì¼: /audio/temp.mp3') } });
            update();
        })();

        // ì´ë²ˆ ë‹¬ ë‹¬ë ¥ + ë‚ ì§œ í´ë¦­ â†’ day.html (ê¸°ëŠ¥ ê·¸ëŒ€ë¡œ ìœ ì§€)
        (function buildCalendar() {
            const title = document.getElementById('calTitle'); const grid = document.getElementById('calGrid');
            const now = new Date(); const y = now.getFullYear(); const m = now.getMonth(); const todayDate = now.getDate();
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            if (title) title.textContent = `${monthNames[m]} ${y}`;

            // ìš”ì¼ í—¤ë”(.dow) â€“ ê¸°ì¡´ êµ¬ì¡° ìœ ì§€, diary ëŠë‚Œìœ¼ë¡œ CSSë§Œ ë³€ê²½
            const dows = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dows.forEach(d => { const el = document.createElement('div'); el.className = 'dow'; el.textContent = d; grid.appendChild(el); });

            // 0=Sun ~ 6=Sat ê¸°ì¤€(ì¼ìš”ì¼ ì‹œì‘)
            const first = new Date(y, m, 1);
            const startOffset = first.getDay();
            const daysInMonth = new Date(y, m + 1, 0).getDate();

            // âœ… ì´ë²ˆ ë‹¬ì´ ì°¨ì§€í•˜ëŠ” ì£¼(ì¤„) ìˆ˜ ê³„ì‚°: 4~6ì£¼ ì¤‘ í•˜ë‚˜
            const weeks = Math.ceil((startOffset + daysInMonth) / 7);
            const totalCells = weeks * 7;  // ìš”ì¼ í—¤ë” ì œì™¸, ë‚ ì§œì¹¸ ê°œìˆ˜

            for (let i = 0; i < totalCells; i++) {
                const cell = document.createElement('div');
                cell.className = 'day';
                const num = document.createElement('span');

                const inThisMonth = (i >= startOffset) && (i < startOffset + daysInMonth);

                if (inThisMonth) {
                    const dayNum = i - startOffset + 1;
                    num.textContent = dayNum;          // ìˆ«ì: ì´ë²ˆ ë‹¬ë§Œ
                    cell.appendChild(num);

                    if (dayNum === todayDate) cell.classList.add('today');

                    // í´ë¦­ ì´ë™: ì´ë²ˆ ë‹¬ ì¹¸ë§Œ í™œì„±í™”
                    cell.dataset.date = `${y}-${String(m + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}`;
                } else {
                    // ì´ì „/ë‹¤ìŒ ë‹¬ ì¹¸: íšŒìƒ‰ + ìˆ«ì/ë§í¬ ì—†ìŒ
                    cell.classList.add('muted');
                }

                grid.appendChild(cell);
            }



            grid.addEventListener('click', (e) => {
                const day = e.target.closest('.day'); if (!day) return;
                const d = day.dataset.date; if (!d) return;
                location.href = `day.html?date=${encodeURIComponent(d)}`;
            });
        })();

        // âœ¿ ì»¤ìŠ¤í…€ ê½ƒ ì»¤ì„œ
        (function () {
            const c = document.createElement('div'); c.className = 'flower-cursor'; c.textContent = 'âœ¿'; document.body.appendChild(c);
            let x = 0, y = 0, tx = 0, ty = 0;
            document.addEventListener('mousemove', e => { x = e.clientX; y = e.clientY });
            document.addEventListener('mouseover', e => { if (e.target.closest('a,button')) c.classList.add('active'); else c.classList.remove('active'); });
            (function loop() { tx += (x - tx) * 0.25; ty += (y - ty) * 0.25; c.style.transform = `translate(${tx}px, ${ty}px) translate(-50%,-50%)`; requestAnimationFrame(loop) })();
        })();
    </script>

    <!-- GSAP -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

    <!-- Hero title split / loop -->
    <script>
        (function heroSplitTitle() {
            const title = document.getElementById('heroTitle'); if (!title) return;
            const text = title.textContent; title.setAttribute('aria-label', text); title.textContent = '';
            const frag = document.createDocumentFragment();
            for (const ch of text) { const span = document.createElement('span'); span.className = 'char'; span.textContent = ch; span.style.display = 'inline-block'; span.style.transform = 'translateY(40px)'; span.style.opacity = '0'; frag.appendChild(span) }
            title.appendChild(frag); const chars = title.querySelectorAll('.char');
            function animateChars() {
                gsap.fromTo(chars, { opacity: 0, y: 40 }, { opacity: 1, y: 0, duration: .6, ease: 'power3.out', stagger: .1, onComplete: () => { setTimeout(() => { animateChars() }, 5000) } });
            }
            const observer = new IntersectionObserver((entries, obs) => { entries.forEach(entry => { if (!entry.isIntersecting) return; animateChars(); obs.unobserve(entry.target); }); }, { threshold: .1, rootMargin: '-100px' });
            observer.observe(title); title.addEventListener('click', () => { animateChars() });
        })();
    </script>

    <!-- Eyebrow scroll reveal -->
    <script>
        (function scrollRevealEyebrow() {
            const el = document.querySelector('.site-blurb .eyebrow'); if (!el) return;
            const baseOpacity = 0, enableBlur = true, baseRotation = 5, blurStrength = 10, rotationEnd = 'bottom bottom', wordAnimEnd = 'bottom bottom';
            const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const raw = el.textContent; const tokens = raw.trim().split(/\s+/); el.textContent = ''; const frag = document.createDocumentFragment();
            if (tokens.length <= 1) { [...raw].forEach(ch => { const span = document.createElement('span'); span.className = 'sr-unit'; span.textContent = ch; span.style.display = 'inline-block'; frag.appendChild(span) }) }
            else { raw.split(/(\s+)/).forEach(part => { if (/^\s+$/.test(part)) { frag.appendChild(document.createTextNode(part)); return } const span = document.createElement('span'); span.className = 'sr-unit'; span.textContent = part; span.style.display = 'inline-block'; frag.appendChild(span) }) }
            el.appendChild(frag);
            if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') { gsap.registerPlugin(ScrollTrigger) }
            const units = el.querySelectorAll('.sr-unit');
            if (reduce) { el.style.transform = 'rotate(0deg)'; units.forEach(s => { s.style.opacity = 1; s.style.filter = 'none' }); return; }
            gsap.fromTo(el, { transformOrigin: '0% 50%', rotate: baseRotation }, { rotate: 0, ease: 'none', scrollTrigger: { trigger: el, start: 'top bottom', end: rotationEnd, scrub: true } });
            gsap.fromTo(units, { opacity: baseOpacity, willChange: 'opacity' }, { opacity: 1, ease: 'none', stagger: .05, scrollTrigger: { trigger: el, start: 'top bottom-=20%', end: wordAnimEnd, scrub: true } });
            if (enableBlur) { gsap.fromTo(units, { filter: `blur(${blurStrength}px)` }, { filter: 'blur(0px)', ease: 'none', stagger: .05, scrollTrigger: { trigger: el, start: 'top bottom-=20%', end: wordAnimEnd, scrub: true } }); }
        })();
    </script>

    <!-- ScrollFloat (ë¬¸ì ë¶„í•´ ì• ë‹ˆë©”ì´ì…˜) -->
    <script>
        (function pageScrollReveal() {
            if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') return;
            gsap.registerPlugin(ScrollTrigger);
            document.querySelectorAll('.reveal,[data-reveal]').forEach(el => {
                gsap.fromTo(el, { opacity: 0, y: 24 }, { opacity: 1, y: 0, ease: 'none', scrollTrigger: { trigger: el, start: 'top 85%', end: 'top 55%', scrub: true } });
            });
            function applyScrollFloat(target) {
                if (!target || target.__sfApplied) return; target.__sfApplied = true;
                const raw = target.textContent; const wrap = document.createElement('span'); wrap.className = 'scroll-float-text';
                target.textContent = ''; target.appendChild(wrap);
                const nodes = []; for (const ch of raw) { const span = document.createElement('span'); span.className = 'char'; span.textContent = (ch === ' ') ? '\u00A0' : ch; wrap.appendChild(span); nodes.push(span); }
                const duration = parseFloat(target.dataset.duration || '1');
                const ease = target.dataset.ease || 'back.inOut(2)';
                const start = target.dataset.start || 'center bottom+=50%';
                const end = target.dataset.end || 'bottom bottom-=40%';
                const stagger = parseFloat(target.dataset.stagger || '0.03');
                gsap.fromTo(nodes, { willChange: 'opacity, transform', opacity: 0, yPercent: 120, scaleY: 2.3, scaleX: 0.7, transformOrigin: '50% 0%' }, {
                    duration: duration, ease: ease, opacity: 1, yPercent: 0, scaleY: 1, scaleX: 1, stagger: stagger,
                    scrollTrigger: { trigger: target, start: start, end: end, scrub: true }
                });
            }
            document.querySelectorAll('.sf-target').forEach(applyScrollFloat);
        })();
    </script>

    <script>
        /* ===== Flower Infinite Marquee Builder (images only) ===== */
        (function () {
            const track = document.getElementById('flowerTrack');
            if (!track) return;

            const FLOWERS = [
                { slug: 'hydrangea', name: 'Hydrangea', img: 'img/flowers2/hydrangea2.svg' },
                { slug: 'babybreath', name: "Baby's Breath", img: 'img/flowers2/babybreath2.svg' },
                { slug: 'lavender', name: 'Lavender', img: 'img/flowers2/lavender2.svg' },
                { slug: 'freesia', name: 'Freesia', img: 'img/flowers2/freesia2.svg' },
                { slug: 'daisy', name: 'Daisy', img: 'img/flowers2/daisy2.svg' },
                { slug: 'white-lily', name: 'White Lily', img: 'img/flowers2/white-lily2.svg' },
                { slug: 'lilac', name: 'Lilac', img: 'img/flowers2/lilac2.svg' },
                { slug: 'white-tulip', name: 'White Tulip', img: 'img/flowers2/white-tulip2.svg' },
                { slug: 'sunflower', name: 'Sunflower', img: 'img/flowers2/sunflower2.svg' },
                { slug: 'peony', name: 'Peony', img: 'img/flowers2/peony2.svg' },
                { slug: 'forgetmenot', name: 'Forget-me-not', img: 'img/flowers2/forgetmenot2.svg' },
                { slug: 'lotus', name: 'Lotus', img: 'img/flowers2/lotus2.svg' }
            ];

            // ì¹´ë“œ/ìº¡ì…˜ ì—†ì´ "ì´ë¯¸ì§€"ë§Œ ì¶”ê°€
            function createSet() {
                const frag = document.createDocumentFragment();
                FLOWERS.forEach(f => {
                    const card = document.createElement('div');
                    card.className = 'flower-card';

                    const img = document.createElement('img');
                    img.src = f.img;
                    img.alt = f.name;
                    img.loading = 'lazy';

                    // í˜¸ë²„ ì‹œ ë©ˆì¶¤
                    card.addEventListener('pointerenter', () => track.classList.add('is-paused'));
                    card.addEventListener('pointerleave', () => track.classList.remove('is-paused'));

                    // í´ë¦­ ì‹œ ìƒì„¸ ì´ë™
                    card.addEventListener('click', () => {
                        location.href = `flower-detail.html?flower=${encodeURIComponent(f.slug)}`;
                    });

                    card.appendChild(img);
                    frag.appendChild(card);
                });
                return frag;
            }


            track.innerHTML = '';
            track.appendChild(createSet());
            track.appendChild(createSet()); // ë¬´í•œì²˜ëŸ¼ ë³´ì´ë„ë¡ 2ì„¸íŠ¸

            // ë°˜ì‘í˜• ì†ë„
            const mql = window.matchMedia('(max-width: 640px)');
            const applySpeed = () => {
                track.style.setProperty('--duration', mql.matches ? '10s' : '50s');
            };
            applySpeed();
            mql.addEventListener?.('change', applySpeed);
        })();
    </script>


</body>

</html>